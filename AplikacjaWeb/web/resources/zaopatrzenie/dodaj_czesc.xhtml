<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/resources/templates/template2.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:a="http://xmlns.jcp.org/jsf/passthrough">

    <ui:define name="title">
        Zaopatrzenie - Dodaj część
    </ui:define>

    <ui:define name="content">
        <!-- formularz -->
        <h:form>
            <h:panelGroup layout="block" class="form-row">
                <h:panelGroup layout="block" class="form-group col-md-6">
                    <h:outputLabel for="nazwa" value="Nazwa części:"/>
                    <h:inputText id="nazwa" required="true" class="form-control" a:placeholder="Nazwa części"
                                 maxlength="128" value="#{menadzer_czesci.nazwa}"
                                 requiredMessage="To pole jest wymagane."
                                 binding="#{nazwa}">
                        <f:ajax event="blur" execute="nazwa" render="nvErr submit" />
                    </h:inputText>
                    <h:message id="nvErr" for="nazwa" class="feedback" style="font-size: 10px; color: red"/>
                </h:panelGroup>
                <h:panelGroup layout="block" class="form-group col-md-3">
                    <h:outputLabel for="model" value="Model części:"/>
                    <h:inputText id="model" required="true" class="form-control" a:placeholder="Model"
                                 maxlength="32" value="#{menadzer_czesci.model}"
                                 requiredMessage="To pole jest wymagane."
                                 binding="#{model}">
                        <f:ajax event="blur" execute="model" render="mvErr submit"/>
                    </h:inputText>
                    <h:message id="mvErr" for="model" class="feedback" style="font-size: 10px; color: red"/>
                </h:panelGroup>
                <h:panelGroup layout="block" class="form-group col-md-3">
                    <h:outputLabel for="producent" value="Nazwa producenta:"/>
                    <h:inputText id="producent" required="true" class="form-control" a:placeholder="Producent"
                                 maxlength="32" value="#{menadzer_czesci.producent}"
                                 requiredMessage="To pole jest wymagane."
                                 binding="#{producent}">
                        <f:ajax event="blur" execute="producent" render="pvErr submit"/>
                    </h:inputText>
                    <h:message id="pvErr" for="producent" class="feedback" style="font-size: 10px; color: red"/>
                </h:panelGroup>
            </h:panelGroup>
            <h:panelGroup layout="block" class="form-row">
                <h:panelGroup layout="block" class="form-group col-md-6">
                    <h:outputLabel for="jednostka" value="Jednostka:"/>
                    <h:inputText id="jednostka" required="true" class="form-control" a:placeholder="Jednostka"
                                 maxlength="10" value="#{menadzer_czesci.jednostka}"
                                 requiredMessage="To pole jest wymagane."
                                 binding="#{jednostka}">
                        <f:ajax event="blur" execute="jednostka" render="jvErr submit"/>
                    </h:inputText>
                    <h:message id="jvErr" for="jednostka" class="feedback" style="font-size: 10px; color: red"/>
                </h:panelGroup>
                <h:panelGroup layout="block" class="form-group col-md-6">
                    <h:outputLabel for="cena_jendostkowa" value="Cena jednostkowa:"/>
                    <h:inputText id="cena_jendostkowa" required="true" class="form-control" a:placeholder="Cena jednostkowa"
                                 maxlength="32" value="#{menadzer_czesci.cena_jednostkowa}"
                                 validatorMessage="Cena jednostkowa musi być dodatnia."
                                 converterMessage="Cena jednostkowa musi być liczbą."
                                 requiredMessage="To pole jest wymagane."
                                 binding="#{cena_jednostkowa}">
                        <f:ajax event="blur" execute="cena_jendostkowa" render="cjvErr submit"/>
                        <f:validateDoubleRange minimum="0.00"/>
                    </h:inputText>
                    <h:message id="cjvErr" for="cena_jendostkowa" class="feedback" style="font-size: 10px; color: red"/>
                </h:panelGroup>
            </h:panelGroup>
            &nbsp;&nbsp;&nbsp;<h:commandButton id ="submit" type="submit" class="btn btn-primary" value="Dodaj" action="#{menadzer_czesci.dodaj()}"
                                               disabled="#{not facesContext.postback or not (nazwa.valid and model.valid and producent.valid and jednostka.valid and cena_jednostkowa.valid)}">
            </h:commandButton>
        </h:form>
    </ui:define>
</ui:composition>
